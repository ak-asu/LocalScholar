<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="color-scheme" content="light dark">
  <title>Quizzer - AI-Powered Summarization</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <main>
    <header>
      <h1>Quizzer</h1>
      <div id="status" role="status" aria-live="polite"></div>
      <button id="settings-btn" type="button" aria-label="Open settings">Settings</button>
    </header>

    <section id="analyze" aria-labelledby="analyze-heading">
      <h2 id="analyze-heading" class="visually-hidden">Summarization</h2>
      <button id="run" type="button" aria-label="Start summarization">Summarize</button>
    </section>

    <section id="output" aria-live="polite" aria-label="Summary output"></section>

    <div id="translate-controls" style="display: none;" aria-label="Translation controls">
      <label for="translate-language">Translate to:</label>
      <select id="translate-language" name="translate-language">
        <option value="en">English</option>
        <option value="es">Spanish</option>
        <option value="ja">Japanese</option>
        <option value="fr">French</option>
        <option value="de">German</option>
      </select>
      <button id="translate-btn" type="button">Translate</button>
    </div>

    <hr/>

    <section id="flashcards" aria-labelledby="flashcards-heading">
      <h2 id="flashcards-heading" class="visually-hidden">Flashcards</h2>
      <div class="flash-grid">
        <button id="fc-generate" type="button" aria-label="Generate flashcards">Generate Flashcards</button>
      </div>

      
    </section>

    <section id="decks" aria-labelledby="decks-heading">
      <h2 id="decks-heading" class="visually-hidden">Saved Decks</h2>
      <ul id="deck-list" class="deck-list" role="list"></ul>
    </section>

    <hr/>

    <section id="queue" aria-labelledby="queue-heading">
      <h2 id="queue-heading">Report Queue</h2>
      <div class="queue-actions">
        <button id="queue-add-current" type="button" aria-label="Add current page to queue">Add Current Page</button>
        <button id="queue-clear" type="button" aria-label="Clear queue">Clear Queue</button>
      </div>
      <ul id="queue-list" class="queue-list" role="list"></ul>
      <div class="queue-generate">
        <label for="report-language">
          <span>Report Language</span>
          <select id="report-language" name="report-language">
            <option value="en" selected>English</option>
            <option value="es">Spanish</option>
            <option value="ja">Japanese</option>
          </select>
        </label>
        <button id="queue-generate-report" type="button" aria-label="Generate report from queue">Generate Report</button>
      </div>
    </section>

    <section id="reports" aria-labelledby="reports-heading">
      <h2 id="reports-heading">Saved Reports</h2>
      <ul id="report-list" class="report-list" role="list"></ul>
    </section>

    <section id="settings" aria-labelledby="settings-heading" hidden>
      <h2 id="settings-heading">Settings</h2>
      <div class="settings-grid">
        <fieldset>
          <legend>Summarization</legend>
          <label for="source">
            <span>Source</span>
            <select id="source" name="source">
              <option value="selection">Selection (if any)</option>
              <option value="page" selected>Whole page</option>
            </select>
          </label>
          <label for="sum-type">
            <span>Type</span>
            <select id="sum-type" name="sum-type">
              <option value="tldr">TL;DR</option>
              <option value="key-points" selected>Key Points</option>
              <option value="headline">Headline</option>
              <option value="teaser">Teaser</option>
            </select>
          </label>
          <label for="sum-length">
            <span>Length</span>
            <select id="sum-length" name="sum-length">
              <option value="short">Short</option>
              <option value="medium" selected>Medium</option>
              <option value="long">Long</option>
            </select>
          </label>
          <label for="sum-format">
            <span>Format</span>
            <select id="sum-format" name="sum-format">
              <option value="markdown" selected>Markdown</option>
              <option value="plain-text">Plain Text</option>
            </select>
          </label>
          <label for="output-language">
            <span>Output Language</span>
            <select id="output-language" name="output-language">
              <option value="en" selected>English</option>
              <option value="es">Spanish</option>
              <option value="ja">Japanese</option>
              <option value="fr">French</option>
              <option value="de">German</option>
            </select>
          </label>
        </fieldset>
        <fieldset>
          <legend>Flashcards</legend>
          <label for="fc-count">
            <span>Count</span>
            <select id="fc-count" name="fc-count">
              <option value="5" selected>5</option>
              <option value="10">10</option>
              <option value="15">15</option>
            </select>
          </label>
          <label for="fc-difficulty">
            <span>Difficulty</span>
            <select id="fc-difficulty" name="fc-difficulty">
              <option value="easy">Easy</option>
              <option value="medium" selected>Medium</option>
              <option value="hard">Hard</option>
            </select>
          </label>
          <label for="fc-language">
            <span>Output Language</span>
            <select id="fc-language" name="fc-language">
              <option value="en" selected>English</option>
              <option value="es">Spanish</option>
              <option value="ja">Japanese</option>
            </select>
          </label>
        </fieldset>
        <fieldset>
          <legend>Performance</legend>
          <label>
            <input type="checkbox" id="enable-caching" checked>
            <span>Enable Caching</span>
          </label>
          <label for="cache-expiration">
            <span>Cache Expiration</span>
            <select id="cache-expiration" name="cache-expiration">
              <option value="1">1 hour</option>
              <option value="24" selected>24 hours</option>
              <option value="168">7 days</option>
              <option value="0">Never</option>
            </select>
          </label>
          <label for="chunk-size">
            <span>Chunk Size</span>
            <select id="chunk-size" name="chunk-size">
              <option value="2000">2K chars</option>
              <option value="4000" selected>4K chars</option>
              <option value="6000">6K chars</option>
              <option value="8000">8K chars</option>
            </select>
          </label>
        </fieldset>
        <fieldset>
          <legend>Data Management</legend>
          <button id="export-data" type="button" class="data-btn">Export Data</button>
          <button id="import-data" type="button" class="data-btn">Import Data</button>
          <input type="file" id="import-file" accept=".json" style="display: none;">
          <button id="clear-cache" type="button" class="data-btn">Clear Cache</button>
        </fieldset>
      </div>
      <div class="settings-actions">
        <button id="settings-save" type="button">Save</button>
        <button id="settings-back" type="button">Back</button>
      </div>
    </section>
  </main>
  <script src="popup.js" type="module"></script>
</body>
</html>
